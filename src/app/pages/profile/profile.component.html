<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav mode="side" [(opened)]="opened" (opened)="events.push('open!')"
               (closed)="events.push('close!')">

		<mat-list>
			<mat-list-item>
				Profile
			</mat-list-item>
			<mat-list-item> Account </mat-list-item>
			<mat-list-item> Security </mat-list-item>
			<mat-list-item> Company </mat-list-item>
			<mat-list-item> Applications </mat-list-item>
			<mat-list-item> Settings </mat-list-item>
		</mat-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <!-- <p><mat-checkbox [(ngModel)]="opened">sidenav.opened</mat-checkbox></p> -->
		<div class="page-title">
			<a class="toggle" href="javascript:;" (click)="sidenav.toggle()">
				<mat-icon *ngIf="opened">arrow_left</mat-icon>
				<mat-icon *ngIf="!opened">arrow_right</mat-icon>
			</a>
		  <span class="title">Personal Profile</span>
		</div>
		<!-- <div class="example-events">
		<div *ngFor="let e of events">{{e}}</div>
    </div> -->
    <div class="profile-container">
      <mat-card>
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title>Shiba Inu</mat-card-title>
          <mat-card-subtitle>Dog Breed</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image src="https://material.angular.io/assets/img/examples/shiba2.jpg" alt="Photo of a Shiba Inu">
        <mat-card-content>
          <p>
            The Shiba Inu is the smallest of the six original and distinct spitz breeds of dog from Japan.
            A small, agile dog that copes very well with mountainous terrain, the Shiba Inu was originally
            bred for hunting.
          </p>
        </mat-card-content>
        <mat-card-actions>
          <button mat-button>Edit</button>
          <!-- <button mat-button>SHARE</button> -->
        </mat-card-actions>
      </mat-card>
      <mat-accordion>
        <mat-expansion-panel [expanded]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Account
            </mat-panel-title>
            <mat-panel-description>
              Account Information
            </mat-panel-description>
          </mat-expansion-panel-header>

          <form class="form" [formGroup]="accountForm" (ngSubmit)="updateAccount()">

            <mat-form-field class="full-width">
              <input matInput placeholder="Email/username" formControlName="username"
                  [errorStateMatcher]="matcher" required autocomplete="off">
              <mat-error *ngIf="accountForm.controls.username.hasError('email') && !accountForm.controls.username.hasError('required')">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="accountForm.controls.username.hasError('required')">
                Email is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="First Name" formControlName="firstname">
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="Last Name" formControlName="lastname">
            </mat-form-field>
            <div class="submit">
              <m-spinner-button [options]="spinner" (click)="updateAccount()">Update</m-spinner-button>
            </div>
          </form>
        </mat-expansion-panel>

        <mat-expansion-panel (opened)="panelOpenState = true"
                    (closed)="panelOpenState = false">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Security
            </mat-panel-title>
            <mat-panel-description>
              Password Reset
            </mat-panel-description>
          </mat-expansion-panel-header>

          <form class="form" [formGroup]="securityForm" (ngSubmit)="updatePassword()">

            <mat-form-field class="full-width">
              <input matInput placeholder="Current Password" formControlName="password"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="securityForm.controls.password.hasError('required')">
                Password is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="New Password" formControlName="password"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="securityForm.controls.password.hasError('required')">
                New Password is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="Confirm Password" formControlName="password"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="securityForm.controls.password.hasError('required')">
                New Password is <strong>required</strong>
              </mat-error>
                  </mat-form-field>
            <div class="submit">
              <m-spinner-button [options]="spinner" (click)="updatePassword()">Reset</m-spinner-button>
            </div>
          </form>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
          <mat-panel-title>
            Company
          </mat-panel-title>
          <mat-panel-description>
            Company Information
          </mat-panel-description>
          </mat-expansion-panel-header>

          <form class="form" [formGroup]="companyForm" (ngSubmit)="updateCompany()">
            <mat-form-field class="full-width">
              <input matInput placeholder="Name" formControlName="name"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="companyForm.controls.name.hasError('required')">
                Company Name is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="Telephone" formControlName="phone"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="companyForm.controls.phone.hasError('required')">
                Company Phone is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="address" formControlName="address">
                  </mat-form-field>

            <mat-form-field class="full-width">
              <input matInput placeholder="City" formControlName="city"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="companyForm.controls.city.hasError('required')">
                City is <strong>required</strong>
              </mat-error>
            </mat-form-field>
            <mat-form-field class="full-width">
              <input matInput placeholder="Province" formControlName="province"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="companyForm.controls.province.hasError('required')">
                Province is <strong>required</strong>
              </mat-error>
            </mat-form-field>

            <mat-form-field class="full-width">
              <input matInput placeholder="Postal Code" formControlName="postal"
                  [errorStateMatcher]="matcher" required>

              <mat-error *ngIf="companyForm.controls.postal.hasError('required')">
                Province is <strong>required</strong>
              </mat-error>
                  </mat-form-field>

            <div class="submit">
              <m-spinner-button [options]="spinner" (click)="updateCompany()">Reset</m-spinner-button>
            </div>
          </form>
        </mat-expansion-panel>

        <mat-expansion-panel [disabled]="true">
          <mat-expansion-panel-header>
            <mat-panel-title>
              Application
            </mat-panel-title>
            <mat-panel-description>
              General Settings
            </mat-panel-description>
          </mat-expansion-panel-header>

          <p>General Settings</p>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Settings
            </mat-panel-title>
            <mat-panel-description>
              General Settings
            </mat-panel-description>
          </mat-expansion-panel-header>

          <p>General Settings</p>
        </mat-expansion-panel>
      </mat-accordion>
    </div>

	</mat-sidenav-content>
</mat-sidenav-container>
