<mat-sidenav-container class="example-container">
  <mat-sidenav #sidenav mode="side" [(opened)]="opened" (opened)="events.push('open!')"
               (closed)="events.push('close!')">

		<mat-list>
			<mat-list-item> 
				Profile 
			</mat-list-item>
			<mat-list-item> Account </mat-list-item>
			<mat-list-item> Security </mat-list-item>
			<mat-list-item> Company </mat-list-item>
			<mat-list-item> Applications </mat-list-item>
			<mat-list-item> Settings </mat-list-item>
		</mat-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <!-- <p><mat-checkbox [(ngModel)]="opened">sidenav.opened</mat-checkbox></p> -->
		<div class="page-title">
			<a class="toggle" href="javascript:;" (click)="sidenav.toggle()">
				<mat-icon *ngIf="opened">arrow_left</mat-icon>
				<mat-icon *ngIf="!opened">arrow_right</mat-icon>
			</a>
		<!-- <span>Profile</span> -->
		</div>
		<!-- <div class="example-events">
		<div *ngFor="let e of events">{{e}}</div>
		</div> -->
		<mat-accordion>
			<mat-expansion-panel>
				<mat-expansion-panel-header>
					<mat-panel-title>
						Account
					</mat-panel-title>
					<mat-panel-description>
						General Information
					</mat-panel-description>
				</mat-expansion-panel-header>
			
				<form class="form" [formGroup]="accountForm" (ngSubmit)="updateAccount()">
					
					<mat-form-field class="full-width">
						<input matInput placeholder="Email" formControlName="username"
								[errorStateMatcher]="matcher" required autocomplete="off">
						<mat-error *ngIf="accountForm.controls.username.hasError('email') && !accountForm.controls.username.hasError('required')">
							Please enter a valid email address
						</mat-error>
						<mat-error *ngIf="accountForm.controls.username.hasError('required')">
							Email is <strong>required</strong>
						</mat-error>
					</mat-form-field>
					<mat-form-field class="full-width">
						<input matInput placeholder="First Name" formControlName="firstname">
					</mat-form-field>
					<mat-form-field class="full-width">
						<input matInput placeholder="Last Name" formControlName="lastname">
					</mat-form-field>

						<m-spinner-button [options]="spinner" (click)="updateAccount()">Update</m-spinner-button>
					</form>
			</mat-expansion-panel>
			<mat-expansion-panel (opened)="panelOpenState = true"
									(closed)="panelOpenState = false">
				<mat-expansion-panel-header>
				<mat-panel-title>
					Security
				</mat-panel-title>
				<mat-panel-description>
					Password Reset
				</mat-panel-description>
				</mat-expansion-panel-header>

				<form class="form" [formGroup]="securityForm" (ngSubmit)="updatePassword()">
					
					<mat-form-field class="full-width">
						<input matInput placeholder="Current Password" formControlName="password"
								[errorStateMatcher]="matcher" required>
						
						<mat-error *ngIf="securityForm.controls.password.hasError('required')">
							Password is <strong>required</strong>
						</mat-error>
					</mat-form-field>
					<mat-form-field class="full-width">
						<input matInput placeholder="New Password" formControlName="password"
								[errorStateMatcher]="matcher" required>
						
						<mat-error *ngIf="securityForm.controls.password.hasError('required')">
							New Password is <strong>required</strong>
						</mat-error>
					</mat-form-field>
					<mat-form-field class="full-width">
						<input matInput placeholder="Confirm Password" formControlName="password"
								[errorStateMatcher]="matcher" required>
						
						<mat-error *ngIf="securityForm.controls.password.hasError('required')">
							New Password is <strong>required</strong>
						</mat-error>
					</mat-form-field>
					<m-spinner-button [options]="spinner" (click)="updatePassword()">Reset</m-spinner-button>
				</form>
			</mat-expansion-panel>
		</mat-accordion>

	</mat-sidenav-content>
</mat-sidenav-container>
